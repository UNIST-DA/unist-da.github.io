---
layout: default
---

{%- comment -%}
  Project detail layout (vertical).
  Each project page (.md) must set `slug:` in its front matter,
  matching an item in `_data/projects.yml`.
{%- endcomment -%}

{%- assign project = site.data.projects | where: "slug", page.slug | first -%}
{%- assign title_fallback = page.title | default: (project and project.title) | default: page.slug -%}

<div class="page-hero">
  <div class="container">
    <div class="breadcrumbs">
      <a href="{{ '/' | relative_url }}">Home</a> ·
      <a href="{{ '/research/projects/' | relative_url }}">Research</a> ·
      Projects
    </div>
    <h1 class="page-title">{{ title_fallback }}</h1>
    {%- if project and project.summary -%}
      <p class="muted">{{ project.summary }}</p>
    {%- endif -%}
  </div>
</div>

<main class="container" style="max-width: 800px;">
  {%- if project -%}
  <article class="project-detail">

    <!-- Project Meta -->
    <section class="card card-pad" style="margin-top:16px">
      <h3 class="sec-title">Project Info</h3>
      <ul style="margin:0; padding:0; list-style:none; line-height:1.6">
        {%- if project.period -%}
          <li><strong>Period:</strong> {{ project.period }}</li>
        {%- endif -%}
        {%- if project.category -%}
          <li><strong>Category:</strong> {{ project.category }}</li>
        {%- endif -%}
        {%- if project.tags and project.tags.size > 0 -%}
          <li>
            <strong>Tags:</strong>
            <span style="margin-left:6px">
              {%- for t in project.tags -%}
                <span style="display:inline-block;
                             border:1px solid #e3e3e3;
                             border-radius:999px;
                             padding:2px 8px;
                             margin-right:6px;
                             font-size:12px">{{ t }}</span>
              {%- endfor -%}
            </span>
          </li>
        {%- endif -%}
        {%- if project.url -%}
          <li>
            <strong>Link:</strong>
            {%- assign is_external = project.url contains '://' -%}
            {%- if is_external -%}
              <a href="{{ project.url }}" target="_blank" rel="noopener">{{ project.url }}</a>
            {%- else -%}
              <a href="{{ project.url | relative_url }}">{{ project.url }}</a>
            {%- endif -%}
          </li>
        {%- endif -%}
      </ul>
    </section>

    <!-- Project Image -->
    {%- if project.image -%}
      <div style="margin-top:20px">
        <img src="{{ project.image | relative_url }}"
             alt="{{ project.title | default: title_fallback }}"
             style="width:100%;border-radius:12px;object-fit:cover">
        {%- if project.image_caption -%}
          <p class="muted" style="margin:6px 0 0; text-align:center">
            {{ project.image_caption }}
          </p>
        {%- endif -%}
      </div>
    {%- endif -%}

    <!-- Project Content -->
    <section class="prose" style="margin-top:24px">
      {{ content }}
    </section>

    <!-- Back link -->
    <div style="margin-top:24px">
      <a href="{{ '/research/projects/' | relative_url }}" class="button">← Back to Projects</a>
    </div>
  </article>

  {%- else -%}
    <div class="card card-pad" style="margin-top:16px">
      <strong>Heads up:</strong>
      No project with slug <code>{{ page.slug }}</code> was found in <code>_data/projects.yml</code>.
    </div>
    <div class="prose" style="margin-top:12px">
      {{ content }}
    </div>
  {%- endif -%}
</main>

<!-- Mint-colored section title (same as professor/student) -->
<style>
  .sec-title {
    display:flex;
    align-items:center;
    font-size:20px;
    font-weight:600;
    margin:0 0 12px;
    line-height:1.3;
    --accent:#26A7A7;
  }
  .sec-title::before {
    content:"";
    width:4px;
    height:20px;
    border-radius:2px;
    background:var(--accent);
    margin-right:8px;
    flex:0 0 4px;
  }
</style>

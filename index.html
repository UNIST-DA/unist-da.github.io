<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ê°ìŠ¹ìˆ˜ â€” ì—°êµ¬ í¬íŠ¸í´ë¦¬ì˜¤</title>
  <meta name="description" content="ê°ìŠ¹ìˆ˜(SEUNGSU KAM)ì˜ ìê¸°ì†Œê°œ, ì—°êµ¬ í”„ë¡œì íŠ¸, ë…¼ë¬¸/ë°œí‘œ, ê²½ë ¥ ë° ì—°ë½ì²˜" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Pretendard:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    /* ===================== Design Tokens ===================== */
    :root{
      --bg: #0b0d12; --bg-accent:#0e1322; --text:#e9edf1; --muted:#a7b0bf;
      --primary:#7c96ff; --ring: rgba(124,150,255,.35);
      --glass: rgba(255,255,255,.06); --glass-border: rgba(255,255,255,.18);
      --card-radius: 18px; --shadow-lg: 0 10px 40px rgba(0,0,0,.35);
      --maxw: 1200px; --space: clamp(16px, 2vw, 24px);
      --space-lg: clamp(36px, 6vw, 80px);
      --container-pad: calc(var(--space) * 2) var(--space);
    }
    @media (prefers-color-scheme: light){
      :root{
        --bg:#f7f9ff; --bg-accent:#ecf1ff; --text:#0e1116; --muted:#616b79;
        --primary:#536dfe; --ring: rgba(83,109,254,.35);
        --glass: rgba(255,255,255,.55); --glass-border: rgba(0, 24, 168, .10);
        --shadow-lg: 0 10px 30px rgba(17,40,120,.15);
      }
    }
    html[data-theme="light"]{
      --bg:#f7f9ff; --bg-accent:#ecf1ff; --text:#0e1116; --muted:#616b79;
      --primary:#536dfe; --ring: rgba(83,109,254,.35);
      --glass: rgba(255,255,255,.55); --glass-border: rgba(0,24,168,.10);
      --shadow-lg: 0 10px 30px rgba(17,40,120,.15);
    }
    html[data-theme="dark"]{
      --bg:#0b0d12; --bg-accent:#0e1322; --text:#e9edf1; --muted:#a7b0bf;
      --primary:#7c96ff; --ring: rgba(124,150,255,.35);
      --glass: rgba(255,255,255,.06); --glass-border: rgba(255,255,255,.18);
      --shadow-lg: 0 10px 40px rgba(0,0,0,.35);
    }

    body {
      margin: 0;
      font-family: "Pretendard", sans-serif;
      color: var(--text);
      background: var(--bg);
    }

    .container { max-width: var(--maxw); margin: 0 auto; padding: var(--container-pad); }

    header.site {
      position: sticky; top: 0; backdrop-filter: blur(20px) saturate(180%);
      background: var(--glass);
      border-bottom: 1px solid var(--glass-border);
      z-index: 20;
    }
    .nav { display: flex; align-items: center; gap: var(--space); }
    .nav a.brand { font-weight: 800; color: var(--text); text-decoration: none; }
    .nav .links { margin-left: auto; display: flex; gap: var(--space); }
    .nav .links a { color: var(--muted); font-weight: 600; padding: 8px 12px; border-radius: 12px; transition: background 0.3s ease; }
    .nav .links a:hover { background: var(--ring); color: var(--text); }

    .hero { display: flex; flex-direction: column; align-items: center; padding: var(--space-lg) 0; }
    .card {
      background: var(--glass);
      border: 1px solid var(--glass-border);
      border-radius: var(--card-radius);
      padding: var(--space);
      box-shadow: var(--shadow-lg);
      backdrop-filter: blur(25px) saturate(180%);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    .card:hover { transform: translateY(-4px); box-shadow: 0 12px 40px rgba(0,0,0,0.4); }

    .profile-box { display: flex; align-items: center; gap: var(--space); max-width: 800px; }
    .profile-box img { width: 96px; height: 96px; border-radius: 18px; border: 2px solid var(--glass-border); }
    .meta { color: var(--muted); font-size: 0.95rem; margin-top: 4px; }

    section { padding: var(--space-lg) 0; }
    .h2 { font-size: 1.45rem; font-weight: 800; margin-bottom: var(--space); }

    .timeline { position: relative; padding-left: 28px; }
    .timeline::before { content: ""; position: absolute; left: 8px; top: 0; bottom: 0; width: 2px; background: var(--primary); }
    .timeline-item { position: relative; margin: var(--space) 0; }
    .timeline-item::before { content: ""; position: absolute; left: -2px; top: 6px; width: 10px; height: 10px; border-radius: 50%; background: var(--primary); }

    .grid { display: grid; grid-template-columns: repeat(12, 1fr); gap: var(--space); }
    .col-6 { grid-column: span 6; }
    .pub { border: 1px solid var(--glass-border); border-radius: 14px; padding: var(--space); margin-bottom: var(--space); background: var(--glass); backdrop-filter: blur(20px); }
    .pub .title { font-weight: 700; }
    .pub .meta { font-size: 0.92rem; color: var(--muted); }

    footer { border-top: 1px solid var(--glass-border); color: var(--muted); padding: var(--space-lg) 0; font-size: 0.95rem; backdrop-filter: blur(10px); background: var(--glass); }

    /* Custom cursor */
    .cursor { position: fixed; top: 0; left: 0; width: 28px; height: 28px; border: 2px solid var(--primary); border-radius: 50%; pointer-events: none; transform: translate(-50%, -50%); transition: width .2s, height .2s; z-index: 50; backdrop-filter: blur(6px); background: rgba(14,165,233,0.1); }
    .cursor.cursor--link { width: 42px; height: 42px; background: rgba(14,165,233,0.2); }
  </style>
</head>
<body>
  <!-- Liquid background -->
  <div class="liquid-bg" aria-hidden="true">
    <div class="blob b1" style="top:-10vmax; left:-10vmax"></div>
    <div class="blob b2" style="bottom:-10vmax; right:-5vmax"></div>
    <div class="blob b3" style="top:20vmax; left:35vmax"></div>
  </div>

  <div class="wrap">
    <!-- Topbar / Nav (ëª©ì°¨: About â€“ Members â€“ Research â€“ Activity) -->
    <div class="topbar" role="navigation" aria-label="ì‚¬ì´íŠ¸ ë‚´ë¹„ê²Œì´ì…˜">
      <div class="brand">
        <div class="logo" aria-hidden="true"></div>
        <span>ì—°êµ¬ì‹¤ ì´ë¦„</span>
      </div>
      <nav class="nav" id="mainNav">
        <a href="#about" data-link="about">About</a>
        <a href="#members" data-link="members">Members</a>
        <a href="#research" data-link="research">Research</a>
        <a href="#activity" data-link="activity">Activity</a>
      </nav>
      <button class="theme-toggle" id="themeBtn" title="í…Œë§ˆ ì „í™˜ (Light/Dark)">ğŸŒ“</button>
    </div>

    <!-- Hero / About (ë©”ì¸ í˜ì´ì§€ í™ë³´/ì†Œê°œ) -->
<section id="about" class="section hero" aria-labelledby="about-title">
  <div class="hero-carousel" id="hero" aria-roledescription="carousel" aria-label="ì—°êµ¬ì‹¤ í™œë™ ì‚¬ì§„" data-autoplay="6000">
    <!-- ìŠ¬ë¼ì´ë“œ 1 -->
    <div class="hero-slide is-active" role="group" aria-roledescription="slide" aria-label="1 / 3">
      <img src="/assets/hero-1.jpg" alt="ì—°êµ¬ì‹¤ ì „ê²½ ë° ì¥ë¹„ ëª¨ìŠµ" />
    </div>
    <!-- ìŠ¬ë¼ì´ë“œ 2 -->
    <div class="hero-slide" role="group" aria-roledescription="slide" aria-label="2 / 3">
      <img src="/assets/hero-2.jpg" alt="ì„¸ë¯¸ë‚˜ì—ì„œ ë°œí‘œ ì¤‘ì¸ ëª¨ìŠµ" />
    </div>
    <!-- ìŠ¬ë¼ì´ë“œ 3 -->
    <div class="hero-slide" role="group" aria-roledescription="slide" aria-label="3 / 3">
      <img src="/assets/hero-3.jpg" alt="íŒ€ í˜‘ì—… ë° ë¯¸íŒ… ì¥ë©´" />
    </div>

    <!-- í…ìŠ¤íŠ¸ ì˜¤ë²„ë ˆì´(ê¸°ì¡´ About ë‚´ìš© ì—¬ê¸°ì—!) -->
    <div class="hero-overlay" aria-live="polite">
      <div class="inner">
        <span class="kicker">About</span>
        <h1 id="about-title">[ì—°êµ¬ì‹¤ ì´ë¦„]ì€ ë°ì´í„°Â·ë”¥ëŸ¬ë‹ ê¸°ë°˜ì˜ <em>ì‹œê³„ì—´, í™•ë¥ ì  ëª¨ë¸ë§, ì‹¤ì‹œê°„ ì‹œìŠ¤í…œ</em>ì„ ì—°êµ¬í•©ë‹ˆë‹¤.</h1>
        <p class="lead">
          ìš°ë¦¬ëŠ” Mixture Density Network, ì—°ì†ì‹œê°„ Transformer, í™•ì‚°ëª¨í˜• ë“±ì˜ ìµœì‹  ë°©ë²•ë¡ ì„ í™œìš©í•˜ì—¬
          <strong>ì´ìƒíƒì§€, ë³€í™”ì  ê²€ì¶œ, í™•ë¥ ì  ì˜ˆì¸¡</strong> ë¬¸ì œë¥¼ ë‹¤ë£¹ë‹ˆë‹¤. í•™ì œ ê°„ í˜‘ì—…ê³¼ ì¬í˜„ ê°€ëŠ¥í•œ ì½”ë“œë¥¼ ì§€í–¥í•˜ë©°,
          ì˜¤í”ˆì†ŒìŠ¤ì™€ ì‹¤ì „ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì—°ê²°í•©ë‹ˆë‹¤.
        </p>
        <div class="buttons" aria-label="ì£¼ìš” ë§í¬">
          <a class="btn primary" href="#research">ì—°êµ¬ ì‚´í´ë³´ê¸°</a>
          <a class="btn" href="#members">ì‚¬ëŒë“¤ ë³´ê¸°</a>
          <a class="btn" href="#activity">ì†Œì‹ & ë…¸íŠ¸</a>
        </div>
      </div>
    </div>

    <!-- ì¢Œìš° ì»¨íŠ¸ë¡¤ -->
    <div class="hero-ctrl hero-prev">
      <button type="button" aria-label="ì´ì „ ìŠ¬ë¼ì´ë“œ" data-action="prev">â€¹</button>
    </div>
    <div class="hero-ctrl hero-next">
      <button type="button" aria-label="ë‹¤ìŒ ìŠ¬ë¼ì´ë“œ" data-action="next">â€º</button>
    </div>

    <!-- ì¸ë””ì¼€ì´í„°(ìë™ ìƒì„± ê°€ëŠ¥í•˜ì§€ë§Œ ì˜ˆì‹œë¡œ 3ê°œ ê³ ì •) -->
    <div class="hero-indicators" role="tablist" aria-label="ìŠ¬ë¼ì´ë“œ ì„ íƒ">
      <button role="tab" aria-label="1ë²ˆì§¸ ìŠ¬ë¼ì´ë“œ" aria-current="true" data-goto="0"></button>
      <button role="tab" aria-label="2ë²ˆì§¸ ìŠ¬ë¼ì´ë“œ" data-goto="1"></button>
      <button role="tab" aria-label="3ë²ˆì§¸ ìŠ¬ë¼ì´ë“œ" data-goto="2"></button>
    </div>
  </div>
</section>

    <!-- Members (ìš”ì•½ ì¹´ë“œ + ì—­í• /ë¶„ì•¼ íƒœê·¸) -->
    <section id="members" class="section" aria-labelledby="members-title">
      <div class="head">
        <span class="kicker">Members</span>
        <h2 id="members-title">ì—°êµ¬ì‹¤ êµ¬ì„±ì›</h2>
        <p class="lead">ê°„ë‹¨í•œ ì†Œê°œì™€ ì—­í• ì„ í™•ì¸í•˜ê³ , ìƒì„¸í”„ë¡œí•„ì€ ë©¤ë²„ í˜ì´ì§€ì—ì„œ ë³¼ ìˆ˜ ìˆë„ë¡ êµ¬ì„±í•˜ì„¸ìš”.</p>
      </div>
      <div class="people-grid">
        <!-- PI -->
        <article class="card" aria-label="PI">
          <div class="card-body person">
            <div class="avatar" aria-hidden="true"></div>
            <div>
              <div class="name">í™ê¸¸ë™, Ph.D. <span class="chip">PI</span></div>
              <div class="role">í™•ë¥ ì  ì‹œê³„ì—´ Â· MDN Â· ì‹¤ì‹œê°„ ML</div>
              <div class="meta"><a href="#">í”„ë¡œí•„</a> Â· <a href="mailto:pi@example.com">ì´ë©”ì¼</a></div>
            </div>
          </div>
        </article>
        <!-- Student sample -->
        <article class="card" aria-label="ì„ì‚¬ê³¼ì •">
          <div class="card-body person">
            <div class="avatar" aria-hidden="true"></div>
            <div>
              <div class="name">ê¹€í•™ìƒ <span class="chip">M.S.</span></div>
              <div class="role">ì—°ì†ì‹œê°„ Transformer Â· ë¶ˆê·œì¹™ ì‹œê³„ì—´</div>
              <div class="meta"><a href="#">í”„ë¡œí•„</a> Â· <a href="#">GitHub</a></div>
            </div>
          </div>
        </article>
        <article class="card" aria-label="ë°•ì‚¬ê³¼ì •">
          <div class="card-body person">
            <div class="avatar" aria-hidden="true"></div>
            <div>
              <div class="name">ì´ì—°êµ¬ <span class="chip">Ph.D.</span></div>
              <div class="role">í™•ì‚°ëª¨í˜• Â· ë³€ë¶„ì¶”ë¡ </div>
              <div class="meta"><a href="#">í”„ë¡œí•„</a> Â· <a href="#">Google Scholar</a></div>
            </div>
          </div>
        </article>
      </div>
      <div class="buttons" style="margin-top:16px">
        <a class="btn" href="#">ì „ì²´ ë©¤ë²„ ë³´ê¸°</a>
      </div>
    </section>

    <!-- Research (Publications + Projects í¬í•¨) -->
    <section id="research" class="section" aria-labelledby="research-title">
      <div class="head">
        <span class="kicker">Research</span>
        <h2 id="research-title">ì—°êµ¬ (Publications & Projects)</h2>
        <p class="lead">ë…¼ë¬¸ê³¼ í”„ë¡œì íŠ¸ë¥¼ í•œ ê³³ì—ì„œ ìš”ì•½ ì œê³µí•˜ê³ , ìƒì„¸ëŠ” ì „ìš© í˜ì´ì§€ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆê²Œ êµ¬ì„±í•©ë‹ˆë‹¤.</p>
      </div>

      <div class="grid">
        <!-- Publications summary card -->
        <article class="card">
          <div class="card-body">
            <h3>Publications</h3>
            <div class="pub-list">
              <div class="pub-item">
                <div class="pub-title">Machine Learning Method to Detect Changing States in Quasar Light Curves. I.</div>
                <div class="pub-authors">A. Author, B. Author, <strong>You</strong>, et al.</div>
                <div class="pub-venue">2025 Â· Journal/Conference</div>
                <div class="meta"><span class="chip">MDN</span><span class="chip">CDE</span><a class="chip" href="#">PDF</a><a class="chip" href="#">Code</a></div>
              </div>
              <div class="pub-item">
                <div class="pub-title">Real-time Point Anomaly Detection via Recurrent MDN</div>
                <div class="pub-authors">C. Researcher, D. Researcher</div>
                <div class="pub-venue">2024 Â· Conference Name</div>
                <div class="meta"><span class="chip">RMDN</span><span class="chip">Streaming</span><a class="chip" href="#">PDF</a></div>
              </div>
            </div>
            <div class="buttons" style="margin-top:12px"><a class="btn" href="#">ë” ë³´ê¸°</a></div>
          </div>
        </article>

        <!-- Projects summary card -->
        <article class="card">
          <div class="card-body">
            <h3>Projects</h3>
            <div class="project-thumb" aria-hidden="true"></div>
            <p>ì‹¤ì‹œê°„ ì´ìƒíƒì§€ ë°ëª¨ (MDN/RMDN ê¸°ë°˜ CDE ì¶”ì •), ì—°ì†ì‹œê°„ Transformerë¡œ ë¶ˆê·œì¹™ ì‹œê³„ì—´ ì˜ˆì¸¡, í™•ì‚° ê¸°ë°˜ í™•ë¥ ì  ì˜ˆì¸¡ ë“±.</p>
            <div class="meta">
              <span class="chip">Python</span>
              <span class="chip">Deep Learning</span>
              <span class="chip">Time-series</span>
              <a class="chip" href="#">Repos</a>
            </div>
            <div class="buttons" style="margin-top:12px"><a class="btn" href="#">í”„ë¡œì íŠ¸ ëª¨ì•„ë³´ê¸°</a></div>
          </div>
        </article>

        <!-- Research Areas card -->
        <article class="card">
          <div class="card-body">
            <h3>Research Areas</h3>
            <p>â€¢ Conditional Density Estimation (CDE), Mixture Density Networks (MDN/RMDN)<br>
               â€¢ Unsupervised/Streaming Anomaly & Change-point Detection<br>
               â€¢ Continuous-time Models (SDEs, Neural SDE, CT-Transformer), Diffusion models
            </p>
            <div class="meta"><span class="chip">Theoryâ†’System</span><span class="chip">Realtime</span><span class="chip">Open-source</span></div>
          </div>
        </article>
      </div>
    </section>

    <!-- Activity (Lab-news + Tips/Notes ê³µê°„) -->
    <section id="activity" class="section" aria-labelledby="activity-title">
      <div class="head">
        <span class="kicker">Activity</span>
        <h2 id="activity-title">ì—°êµ¬ì‹¤ í™œë™</h2>
        <p class="lead">Lab-news ë¿ ì•„ë‹ˆë¼ ê°œì¸ ìƒê°, ì„ ë°°ë“¤ì˜ ì—°êµ¬ì‹¤ ìƒí™œ íŒ, ê¸€ê° ë©”ëª¨ ë“±ë„ í•¨ê»˜ ëª¨ìë‹ˆë‹¤.</p>
      </div>

      <div class="activity-cols">
        <!-- Left: News -->
        <div>
          <div class="tabs" role="tablist" aria-label="ë‰´ìŠ¤/ê³µì§€ íƒ­">
            <button class="tab" role="tab" aria-selected="true" data-tab="news">Lab News</button>
            <button class="tab" role="tab" aria-selected="false" data-tab="events">Seminars & Events</button>
          </div>
          <div id="panel-news" class="news-list" role="tabpanel" aria-labelledby="news" tabindex="0">
            <article class="news-item">
              <time datetime="2025-08-01">2025-08-01</time>
              <h3>ì‹ ì… ë©ë©¤ë²„ ëª¨ì§‘ (Fall 2025)</h3>
              <p>ì‹œê³„ì—´/í™•ë¥ ëª¨ë¸/ì‹¤ì‹œê°„ ì‹œìŠ¤í…œì— ê´€ì‹¬ ìˆëŠ” í•™ìƒì„ ì°¾ìŠµë‹ˆë‹¤. ì§€ì› ì•ˆë‚´ëŠ” ë§í¬ ì°¸ê³ .</p>
              <div class="meta"><a class="chip" href="#">ì§€ì› ì•ˆë‚´</a></div>
            </article>
            <article class="news-item">
              <time datetime="2025-07-15">2025-07-15</time>
              <h3>ë…¼ë¬¸ ì±„íƒ ì†Œì‹</h3>
              <p>ì—°ì†ì‹œê°„ Transformer ê¸°ë°˜ ì˜ˆì¸¡ ë…¼ë¬¸ì´ Top Conferenceì— ì±„íƒë˜ì—ˆìŠµë‹ˆë‹¤.</p>
              <div class="meta"><a class="chip" href="#">ê²Œì‹œë¬¼</a></div>
            </article>
          </div>
          <div id="panel-events" class="news-list" role="tabpanel" hidden tabindex="0">
            <article class="news-item">
              <time datetime="2025-09-05">2025-09-05</time>
              <h3>ê²ŒìŠ¤íŠ¸ ì„¸ë¯¸ë‚˜: Robust Realtime Anomaly Detection</h3>
              <p>ì‚°ì—… íŒŒíŠ¸ë„ˆì™€ ê³µë™ ì„¸ë¯¸ë‚˜. ì‹¤ì‹œê°„ ìŠ¤íŠ¸ë¦¬ë° í™˜ê²½ì—ì„œì˜ ê°•ê±´í•œ ì´ìƒíƒì§€.</p>
              <div class="meta"><a class="chip" href="#">ë“±ë¡</a></div>
            </article>
          </div>
        </div>

        <!-- Right: Tips & Notes (ê°œì¸ ìƒê°/íŒ ê³µê°„) -->
        <aside>
          <div class="card">
            <div class="card-body">
              <h3>Tips & Notes</h3>
              <p class="lead">ê°œì¸ì ìœ¼ë¡œ ì ì„ ìƒê°ë“¤, ì„ ë°°ë“¤ì˜ ì—°êµ¬ì‹¤ íŒ, ìì£¼ ë³´ëŠ” ë ˆí¼ëŸ°ìŠ¤ ë§í¬ë¥¼ ì—¬ê¸°ì— ëª¨ìë‹ˆë‹¤.</p>
              <div class="tips-list">
                <div class="tip-item">
                  <strong>ì‹¤í—˜ ë¡œê·¸ë¥¼ êµ¬ì¡°í™”í•˜ê¸°</strong>
                  <p>Weights & Biases í˜¹ì€ MLFlowë¡œ ê³µí†µ í…œí”Œë¦¿ì„ ì‚¬ìš©í•˜ì„¸ìš”. ì‹¤ì‹œê°„ íƒœê·¸: <code>streaming:true</code>, <code>latency:&lt;ms&gt;</code>.</p>
                </div>
                <div class="tip-item">
                  <strong>ì½”ë“œë¦¬ë·° íŒ</strong>
                  <p>PRì€ 300ì¤„ ì´ë‚´, ì£¼ìš” ì‹¤í—˜/ê²°ê³¼ëŠ” READMEì— ìš”ì•½. ì¬í˜„ ìŠ¤í¬ë¦½íŠ¸ëŠ” <code>scripts/repro.sh</code> ê³ ì •.</p>
                </div>
              </div>
              <div class="buttons" style="margin-top:12px">
                <a class="btn" href="#">ëª¨ë“  ë…¸íŠ¸ ë³´ê¸°</a>
                <a class="btn" href="#">ê¸°ì—¬ ê°€ì´ë“œ</a>
              </div>
            </div>
          </div>
        </aside>
      </div>
    </section>

    <footer id="contact" class="section" aria-labelledby="contact-title">
      <div class="head" style="text-align:center">
        <span class="kicker">Contact</span>
        <h2 id="contact-title">ë¬¸ì˜</h2>
        <p class="lead">ì´ë©”ì¼: contact@example.com Â· ì£¼ì†Œ: ì„œìš¸ì‹œ ì–´ë”˜ê°€ 123, ì—°êµ¬ë™ 4ì¸µ 401í˜¸</p>
        <p><a class="btn" href="#">ì˜¤ì‹œëŠ” ê¸¸</a> <a class="btn" href="#">ì±„ìš©/ì§€ì›</a></p>
      </div>
      <p style="text-align:center; color:var(--muted); margin-top:30px">Â© 2025 [ì—°êµ¬ì‹¤ ì´ë¦„] Â· <a href="#">GitHub</a> Â· <a href="#">Scholar</a></p>
    </footer>
  </div>

  <script>
    // ============ Light/Dark toggle with persistence ============
    (function(){
      const key = 'theme';
      const btn = document.getElementById('themeBtn');
      const root = document.documentElement;
      const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
      function applyTheme(v){ root.setAttribute('data-theme', v); try{ localStorage.setItem(key, v); }catch(e){} }
      function currentTheme(){ const saved = localStorage.getItem(key); if(saved==='light'||saved==='dark') return saved; return prefersDark ? 'dark' : 'light'; }
      applyTheme(currentTheme());
      btn.addEventListener('click', ()=> applyTheme(root.getAttribute('data-theme')==='dark' ? 'light' : 'dark'));
    })();

    // ============ Intersection-based nav highlight ============
    const links = document.querySelectorAll('#mainNav a');
    const map = new Map(Array.from(links).map(a => [a.dataset.link, a]));
    const obs = new IntersectionObserver((entries)=>{
      entries.forEach(e=>{
        if(e.isIntersecting){
          map.forEach(el=>el.classList.remove('active'));
          const id = e.target.id; const link = map.get(id);
          if(link) link.classList.add('active');
        }
      });
    }, { rootMargin: '-40% 0px -55% 0px', threshold: 0.01 });
    ['about','members','research','activity'].forEach(id=>{ const el = document.getElementById(id); if(el) obs.observe(el); });

    // ============ Activity tabs (News / Events) ============
    const tabBtns = document.querySelectorAll('.tab');
    const panels = {
      news: document.getElementById('panel-news'),
      events: document.getElementById('panel-events')
    };
    tabBtns.forEach(btn=>{
      btn.addEventListener('click', ()=>{
        tabBtns.forEach(b=>b.setAttribute('aria-selected','false'));
        btn.setAttribute('aria-selected','true');
        const k = btn.dataset.tab;
        Object.keys(panels).forEach(p=> panels[p].hidden = (p!==k));
        panels[k].hidden = false; panels[k].focus();
      });
    });

    // ============ Smooth scroll for in-page links ============
    document.querySelectorAll('a[href^="#"]').forEach(a=>{
      a.addEventListener('click', e=>{
        const id = a.getAttribute('href').slice(1);
        const el = document.getElementById(id);
        if(el){ e.preventDefault(); el.scrollIntoView({behavior:'smooth', block:'start'}); }
      });
    });
  </script>
</body>
</html>
